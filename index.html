
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>.</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fff;
            /* Dark background */
            color: #e0e0e0;
            /* Light text color */
            margin: 0;
            padding: 10px;
        }

        .container {
            margin-top: 35px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            /* Space out cards */
        }

        .project-card {
            min-height: 20vh;
            position: relative;
            background-color: #000;
            border: 1px solid #fff;
            border-radius: 8px;
            padding: 15px;
            margin: 10px;
            flex: 0 1 calc(40% - 20px);
            transition: transform 0.2s;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            max-width: 35%;
            overflow: hidden;
            /* To hide the shimmer overflow */
        }

        .project-card:hover {
            transform: scale(1.05);
        }

        /* Shining effect */
        .project-card.shining::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.3) 25%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.3) 75%);
            animation: shine 1.5s infinite;
        }

        /* Animation for the shine */
        @keyframes shine {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .project-logo img {
            max-width: 100px;
            height: auto;
        }

        .project-info {
            margin: 10px 0;
        }

        .project-user-info,
        .project-slot-info {
            background-color: #2a2a2a;
            /* Darker background for info sections */
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }

        .project-user-info p,
        .project-slot-info p {
            margin: 0;
            /* Remove default margins */
        }

        /* Full card overlay for locked projects */
        .project-no-slots {
            position: absolute;
            /* Cover the entire card */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(42, 42, 42, 0.8);
            /* Slightly transparent for blur effect */
            border-radius: 8px;
            /* Match card's border radius */
            backdrop-filter: blur(1px);
            /* Apply blur effect */
            display: flex;
            /* Center the content */
            flex-direction: column;
            /* Align vertically */
            align-items: center;
            /* Center horizontally */
            justify-content: center;
            /* Center vertically */
            z-index: 1;
            /* Ensure it appears above the card content */
        }

        .lock-icon {
            z-index: 2;
            /* Ensure it appears above the text */
        }

        .lock-icon img {
            width: 50px;
            /* Adjust the size of the lock icon */
        }

        .project-no-slots p {
            margin: 20px 0 0;
            /* Adjust margin for text */
            text-align: center;
            /* Center-align the text */
            z-index: 2;
            /* Ensure text appears above the overlay */
            padding: 8px;
        }

        /**/

        .video-embed {
            position: relative;
            margin: 20px 0;
            border: 1px solid #fff;
            border-radius: 8px;
            overflow: hidden;
            /* max-width: 600px; */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            width: 100%;
            margin: 10px;
        }

        .video-title {
            font-size: 18px;
            font-weight: bold;
            color: #e0e0e0;
            margin-bottom: 10px;
            text-align: center;
            margin: 10px;
            color: #000;
            margin-top: 30px;
        }

        .video-embed iframe {
            width: 100%;
            height: 315px;
            border: 0;
        }

        .hide-video-button {
            background-color: #e0e0e0;
            color: #000;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 2;
            transition: transform 0.2s;
        }

        .hide-video-button:hover {
            transform: scale(1.1);
        }


        /* Custom modal styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 999999;
            align-items: center;
            justify-content: center;
        }

        .modal {
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            max-width: 300px;
            text-align: center;
            color: #e0e0e0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .modal button {
            margin-top: 15px;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
        }

        .confirm-button {
            background-color: #ff4d4d;
            color: white;
        }

        .cancel-button {
            background-color: #666;
            color: white;
            margin-left: 10px;
        }

        .hidden {
            display: none;
        }


        /**/

        /**/

        /* Base Toast Alert Style */
        .toast-alert {
            position: fixed;
            bottom: 20px;
            right: 20px;
            min-width: 250px;
            max-width: 300px;
            padding: 15px;
            border-radius: 8px;
            color: #e0e0e0;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 15;
        }

        .toast-alert.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast-alert .toast-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
        }

        .toast-alert .toast-message {
            flex: 1;
        }

        .toast-alert .toast-close {
            background: transparent;
            border: none;
            color: #e0e0e0;
            font-size: 16px;
            cursor: pointer;
        }

        /* Toast Variants */
        .toast-success {
            background-color: #28a745;
            /* Green for success */
        }

        .toast-danger {
            background-color: #dc3545;
            /* Red for danger */
        }

        .toast-primary {
            background-color: #007bff;
            /* Blue for primary */
        }


        /**/
        /**/


        .danmu-container {
            position: relative;
            width: 100%;
            height: 30px;
            margin: 15px 10px;
            overflow: hidden;
        }

        .danmu-container .danmu-message {
            position: absolute;
            width: fit-content;
            height: 24px;
            display: flex;
            flex-direction: row;
            align-items: center;
            /*background: rgba(0, 0, 0, 0.5);*/
            background: #000;
            backdrop-filter: blur(40px);
            padding: 0 8px;
            border-radius: 8px;
            left: 100%;
            /*cursor: pointer;*/
            transition: box-shadow 0.3s ease;
            box-sizing: border-box;
        }

        .danmu-container .danmu-message .message-content {
            color: #fff;
            /* font-family: Inter, sans-serif; */
            font-size: 11px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: flex;
            align-items: center;
            gap: 2px;
        }

        .danmu-container .danmu-message .message-content>img {
            width: 18px;
            height: 18px;
        }

        .danmu-container .danmu-message .message-content>.highlight {
            color: #ffc700;
            font-size: 12px;
            font-weight: 700;
        }
    </style>


    <!-- Include the Confetti Library -->
    <script src="js/confetti.browser.min.js"></script>

    <script>

        function celebrate() {
            confetti({
                particleCount: 200,
                spread: 70,
                origin: { x: 0.5, y: 0.5 },
            });
        }

    </script>

</head>

<body>

    <div class="container">

        <div class="danmu-container"></div>

        <div class="project-card shining">
        </div>
        <div class="project-card shining">
        </div>
        <div class="project-card shining">
        </div>
        <div class="project-card shining">
        </div>

        <div class="video-title" id="video-title">How to use mod apk?</div>
        <div id="videoSection" class="video-embed">

            <button class="hide-video-button" onclick="showConfirmModal()">Already watched!</button>

            <div id="player"></div>
        </div>

        <!-- <p> AndroidId </p> -->

    </div>

    <!-- Custom modal for confirmation -->
    <div id="confirmModal" class="modal-overlay">
        <div class="modal">
            <p>Are you sure you want to hide this video?</p>
            <button class="confirm-button" onclick="confirmHideVideo()">Yes</button>
            <button class="cancel-button" onclick="closeConfirmModal()">Cancel</button>
        </div>
    </div>


    <!-- Custom modal for confirmation -->
    <div id="gamblingconfirmModal" class="modal-overlay">
        <div class="modal">
            <p>Online gambling is risky and may lead to financial loss. Play at your own risk.</p>

            <!-- Added checkbox for acknowledgment -->
            <div class="risk-message">
                <input type="checkbox" id="acknowledgeRisk" />
                <label for="acknowledgeRisk">I acknowledge the risks involved.</label>
            </div>

            <div class="modal-actions">
                <button class="confirm-button" onclick="gamblingconfirm()">Yes</button>
                <button class="cancel-button" onclick="Android.closeApp();">Cancel</button>
            </div>
        </div>
    </div>

    <style>
        /* Style for the online user count */
        .live-user-count {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
            color: #333;
            z-index: 1000;
            display: flex;
            align-items: center;
        }

        /* Style for the online dot with multi-layer pulsing effect */
        .online-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            background-color: #4CAF50;
            /* Green color */
            border-radius: 50%;
            margin-right: 6px;
            vertical-align: middle;
            /* Initial shadow layers */
            box-shadow:
                0 0 6px rgba(76, 175, 80, 0.9),
                /* Core glow */
                0 0 12px rgba(76, 175, 80, 0.7),
                /* Inner glow */
                0 0 18px rgba(76, 175, 80, 0.5),
                /* Middle glow */
                0 0 24px rgba(76, 175, 80, 0.3);
            /* Outer glow */
            animation: pulse-expand 2s infinite ease-in-out;
            /* Animation effect */
        }

        @keyframes pulse-expand {
            0% {
                box-shadow:
                    0 0 6px rgba(76, 175, 80, 0.9),
                    0 0 12px rgba(76, 175, 80, 0.7),
                    0 0 18px rgba(76, 175, 80, 0.5),
                    0 0 24px rgba(76, 175, 80, 0.3);
                transform: scale(1);
            }

            50% {
                box-shadow:
                    0 0 8px rgba(76, 175, 80, 0.9),
                    0 0 16px rgba(76, 175, 80, 0.6),
                    0 0 24px rgba(76, 175, 80, 0.4),
                    0 0 32px rgba(76, 175, 80, 0.2);
                transform: scale(1.2);
                /* Slightly enlarge */
            }

            100% {
                box-shadow:
                    0 0 6px rgba(76, 175, 80, 0.9),
                    0 0 12px rgba(76, 175, 80, 0.7),
                    0 0 18px rgba(76, 175, 80, 0.5),
                    0 0 24px rgba(76, 175, 80, 0.3);
                transform: scale(1);
                /* Return to original size */
            }
        }


        .androidId {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
            color: #333;
            z-index: 1000;
        }

        .notification {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 0px 12px;
            border-radius: 8px;
            font-size: 14px;
            color: #333;
            z-index: 1000;
            display: flex;
            align-items: center;
            /* justify-content: center; */
            /* text-align: center; */
        }

        .notification a {
            display: none;
        }

        .notification a svg {
            width: 30px;
        }

        .loading-icon {
            content: '';
            /* position: absolute; */
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #000000;
            border-radius: 50%;
            border-top: 2px solid transparent;
            border-right: 2px solid transparent;
            animation: spin 1s linear infinite;
            /* top: 40%;
            left: 50%; */
        }

        /* Animation for the loading spinner */
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .refresh-pulse {
            -webkit-box-align: center;
            -webkit-align-items: center;
            -moz-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            -moz-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            position: relative;
            height: 20px;
            width: 20px;
            margin: 0 8px;
        }

        .dot {
            background-color: #b0c4de;
            position: absolute;
            border-radius: 50%;
            height: 14px;
            width: 14px;
        }

        .fresh {
            background-color: #00ff00;
        }

        .fresh2 {
            border-color: #90ee90;
        }

        .expanding-ring {
            /* border-color: #b0c4de; */
            border-style: solid;
            border-width: 2px;
            border-radius: 50%;
            height: 14px;
            opacity: 1;
            position: absolute;
            width: 14px;
            -webkit-animation-name: _ngcontent-ng-c4003862375_expanding;
            animation-name: _ngcontent-ng-c4003862375_expanding;
            -webkit-animation-duration: 2.5s;
            animation-duration: 2.5s;
            -webkit-animation-iteration-count: infinite;
            animation-iteration-count: infinite;
            -webkit-animation-timing-function: cubic-bezier(0, 0, .2, 1);
            animation-timing-function: cubic-bezier(0, 0, .2, 1);
        }


        @-webkit-keyframes _ngcontent-ng-c4003862375_expanding {
            0% {
                opacity: 1;
                -webkit-transform: scale(1);
                transform: scale(1)
            }

            to {
                opacity: 0;
                -webkit-transform: scale(1.5);
                transform: scale(1.5)
            }
        }
    </style>

    <div class="live-user-count">


        <div _ngcontent-ng-c4003862375="" class="refresh-pulse">
            <div _ngcontent-ng-c4003862375="" class="dot fresh">
            </div>
            <div _ngcontent-ng-c4003862375="" class="expanding-ring fresh2">
            </div>
        </div>

        <!-- <span class="online-dot"></span> -->
        Online users: <span id="userCount">Loading...</span>
        <!-- <a onclick="Android.closeApp();">close tab</a> -->
    </div>

    <div class="notification">
        <a class="unsubscribed"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke-width="1.5" stroke="black" class="w-6 h-6 subscribe-button">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0">
                </path>
            </svg>
        </a>

        <a class="subscribed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"
                class="w-6 h-6 unsubscribe-button">
                <path
                    d="M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z">
                </path>
                <path fill-rule="evenodd"
                    d="M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z"
                    clip-rule="evenodd"></path>
            </svg></a>
        <a class="loading"> <span class="loading-icon"></span></a>
    </div>

    <script src="js/jquery.min.js"></script>

    <script>
        let player;
        const videoId = 'wpmwCKkR_qQ';
        const storageKey = 'videoTimestamp';
        let videoIntarval = true;
        let fivesec = 0;
        let send_video_watched = true;

        // Load the YouTube IFrame Player API
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                videoId: videoId,
                playerVars: { 'autoplay': 0, 'start': getSavedTimestamp() },
                events: {
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        // Retrieve the last saved timestamp from localStorage
        function getSavedTimestamp() {
            return parseInt(localStorage.getItem(storageKey)) || 37;
        }

        // // Save the current timestamp every second while the video is playing
        // function onPlayerStateChange(event) {

        //     console.log(YT.PlayerState);
        //     if (event.data === YT.PlayerState.PLAYING) {

        //         setInterval(() => {
        //             const currentTime = Math.floor(player.getCurrentTime());
        //             localStorage.setItem(storageKey, currentTime);
        //         }, 1000);
        //         console.log('YT.PlayerState.PLAYING');
        //     }else{
        //         // console.log(YT.PlayerState);
        //     }
        // }

        function onPlayerStateChange(event) {
            switch (event.data) {
                case YT.PlayerState.PLAYING:

                    videoIntarval = setInterval(() => {
                        const currentTime = Math.floor(player.getCurrentTime());
                        localStorage.setItem(storageKey, currentTime);
                        fivesec++;

                        if (fivesec >= 5 && send_video_watched) {

                            $.ajax({
                                url: './',
                                type: 'GET',
                                data: {
                                    androidId: '',
                                    video_watched: true
                                },
                                success: function (response) {
                                    // console.log(response);
                                    if (response.ok === false) {
                                        send_video_watched = false;
                                    }
                                }
                            });

                            fivesec = 0;
                        }

                    }, 1000);

                    break;
                case YT.PlayerState.PAUSED:
                    clearInterval(videoIntarval);
                    break;
                case YT.PlayerState.ENDED:
                    // alert('Video stopped.');
                    break;
            }
        }

        // Check if the user has chosen to hide the video
        document.addEventListener('DOMContentLoaded', function () {
            if (localStorage.getItem('hideVideo') === 'true') {
                document.getElementById('videoSection').classList.add('hidden');
                document.getElementById('video-title').classList.add('hidden');
            } else {
                // Load the IFrame API asynchronously
                const tag = document.createElement('script');
                tag.src = 'https://www.youtube.com/iframe_api';
                const firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            }
        });

        // Show the custom confirmation modal
        function showConfirmModal() {
            document.getElementById('confirmModal').style.display = 'flex';
        }

        // Hide the video and save preference to localStorage if confirmed
        function confirmHideVideo() {
            document.getElementById('videoSection').classList.add('hidden');
            document.getElementById('video-title').classList.add('hidden');
            localStorage.setItem('hideVideo', 'true');
            player.stopVideo();
            closeConfirmModal();
        }

        // Close the custom confirmation modal
        function closeConfirmModal() {
            document.getElementById('confirmModal').style.display = 'none';
        }

    </script>

    <script>

        let currentCount = 0; // Keep track of the current user count
        let fakeInterval; // Variable to hold the fake increment/decrement interval
        let already_fetching = false;

        // Function to fetch the live user count
        function fetchUserCount() {
            if (already_fetching === false) {
                already_fetching = true;
                fetch('./user_count_data.json?v=' + Date.now())
                    .then(response => response.json())
                    .then(data => {
                        currentCount = parseFloat(data.user_count); // Update the real user count
                        document.getElementById('userCount').innerText = currentCount;
                    })
                    .catch(error => {
                        console.error('Error fetching user count:', error);
                    })
                    .finally(() => {
                        clearInterval(fakeInterval); // Stop fake updates when real data is fetched
                        startFakeUpdates(); // Start new fake updates until the next real fetch
                        already_fetching = false;
                    });
            }
        }

        // Function to randomly increase/decrease user count
        function startFakeUpdates() {
            fakeInterval = setInterval(() => {
                // Randomly add or subtract a value between 1 and 5
                const randomChange = Math.floor(Math.random() * 5) * (Math.random() < 0.5 ? -1 : 1);
                const fakeCount = currentCount + randomChange;
                // console.log(currentCount);

                // Display the fake count temporarily
                document.getElementById('userCount').innerText = fakeCount;
            }, 2000); // Update every second
        }

        // Fetch the user count every 5 seconds
        setInterval(fetchUserCount, 10000);

        // Initial call to start fetching
        fetchUserCount();


        function showToast(message, type = 'primary') {
            // Create the toast element
            const toast = document.createElement('div');
            toast.className = `toast-alert toast-${type}`;
            toast.innerHTML = `
        <span class="toast-message">${message}</span>
        <button class="toast-close" onclick="this.parentElement.remove();">&times;</button>
    `;

            // Append toast to body
            document.body.appendChild(toast);

            // Show the toast with animation
            setTimeout(() => toast.classList.add('show'), 100);

            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function ae(options, extraOptions) {
            var rowCount = Math.floor(Q.height() / 30),
                itemHeight = Q.height() / rowCount,
                settings = $.extend({}, options, extraOptions);

            let danmuMessage = $("<div>", {
                class: "danmu-message",
                css: {
                    top: Math.floor(Math.random() * rowCount) * itemHeight + settings.top + "px"
                }
            });

            danmuMessage.append($("<div>", {
                class: "message-content",
                html: settings.danmu.trim() === "" ? ea.danmu : settings.danmu.trim()
            }));

            danmuMessage.appendTo(Q);
            let itemWidth = Q.width() + danmuMessage.width();

            danmuMessage.css("transition", `transform ${settings.speed}s linear`);
            danmuMessage.css("transform", `translateX(-${itemWidth}px)`);

            danmuMessage.on("transitionend", () => {
                danmuMessage.remove();
            });
        }

        // Define Q as the danmu container element
        const Q = $(".danmu-container");

        // Your improved JavaScript function
        function ae(options, extraOptions) {
            var rowCount = Math.floor(Q.height() / 30),
                itemHeight = Q.height() / rowCount,
                settings = $.extend({}, options, extraOptions);

            let danmuMessage = $("<div>", {
                class: "danmu-message",
                css: {
                    top: Math.floor(Math.random() * rowCount) * itemHeight + settings.top + "px"
                }
            });

            danmuMessage.append($("<div>", {
                class: "message-content",
                html: settings.danmu.trim() === "" ? ea.danmu : settings.danmu.trim()
            }));

            danmuMessage.appendTo(Q);
            let itemWidth = Q.width() + danmuMessage.width();

            danmuMessage.css("transition", `transform ${settings.speed}s linear`);
            danmuMessage.css("transform", `translateX(-${itemWidth}px)`);

            danmuMessage.on("transitionend", () => {
                danmuMessage.remove();
            });
        }
    </script>

    <script>
        // Function to handle the AJAX request and render project data
        function fetchProjectData(androidId) {
            $.ajax({
                url: './', // Replace with the actual PHP file
                type: 'GET',
                data: {
                    androidId: androidId,
                    projects: true
                },
                success: function (response) {
                    // Parse the JSON response
                    var data = JSON.parse(response);

                    if (data.status === 'success') {
                        renderProjects(data.projects.reverse());
                    } else {
                        alert(data.message); // Show error message
                    }
                },
                error: function () {
                    alert('Error fetching data. Please try again.');
                }
            });
        }

        // Function to dynamically render projects on the page
        function renderProjects(projects) {
            var container = $('.danmu-container'); // Container where projects will be displayed
            // container.empty(); // Clear previous content
            $('.project-card').remove();

            projects.forEach(function (project) {
                var projectHtml = '';

                if (project.userid) {
                    var userids = project.userid.split(',');
                    var balances = project.balance.split(',');

                    userids.forEach(function (userid, index) {
                        var balance = balances[index];
                        projectHtml += `<div class="project-card" onclick="handleProjectClick(1, '${project.invitation_link}')">
                                        <div class="project-logo">
                                            <img src="${project.logo}" alt="${project.name} Logo">
                                        </div>
                                        <div class="project-info">
                                            <p>${project.name}</p>
                                        </div>
                                        <div class="project-user-info">
                                            <p>${userid}</p>
                                        </div>
                                        <div class="project-user-info">
                                            <p>₹ ${balance}</p>
                                        </div>
                                      </div>`;
                    });
                } else {
                    // Handle cases where the project doesn't have a user yet
                    projectHtml = `<div class="project-card" onclick="handleProjectClick(${project.slotLeft}, '${project.invitation_link}')">
                                <div class="project-logo">
                                    <img src="${project.logo}" alt="${project.name} Logo">
                                </div>
                                <div class="project-info">
                                    <p>${project.name}</p>
                                </div>`;

                    if (project.slotLeft > 0) {

                        // var slotLeft = localStorage.getItem("slotLeft["+project.name+"]");
                        // if(slotLeft == null || slotLeft == undefined){
                        //     slotLeft = Math.floor(Math.random() * (10 - 5 + 1)) + 5;
                        //     localStorage.setItem("slotLeft["+project.name+"]", slotLeft);
                        // }

                        // project.slotLeft = 15;

                        projectHtml += `<div class="project-slot-info" style="background-color: #ffffff;">
                                        <!-- <p>${project.slotLeft} Slots left</p> -->
                                       <!-- <p style="color: red; font-weight: bold;">${project.slotLeft} Slots left</p> -->
                                          <p style="color: red; font-weight: bold;">`+ (project.slotLeft % 10 === 0 ? 10 : project.slotLeft % 10) + ` Slots left</p> 
                                      </div>`;
                    } else {
                        projectHtml += `<div class="project-no-slots">
                                        <div class="lock-icon">
                                            <img src="images/lock.svg" alt="Locked">
                                        </div>
                                        <p>Today’s slots are over, come back tomorrow.</p>
                                      </div>`;
                    }

                    projectHtml += `</div>`;
                }

                // console.log(projectHtml);
                container.after(projectHtml); // Add the project HTML to the container
                // container.after();
            });

            
                $('.video-title').before(`
                                                                                                                                                <div class="project-card" onclick="window.location.href='https://t.me/toolbox_pro/7?blank=true'">
                                                                                                                                                    <div class="project-logo">
                                                                                                                                                        <img src="images/1win.svg" alt="1win Logo" style="width: 100%;">
                                                                                                                                                    </div>
                                                                                                                                                    <div class="project-info">
                                                                                                                                                        <p>Online Betting and Casino</p>
                                                                                                                                                    </div>
                                                                                                                                                    <div class="project-no-slots">
                                                                                                                                                                    <div class="lock-icon">
                                                                                                                                                                        <img src="images/lock.svg" alt="Locked">
                                                                                                                                                                    </div>
                                                                                                                                                                    <p>⚠️ Update required: 1win app needs version 1.0+.</p>
                                                                                                                                                                  </div>
                                                                                                                                                </div>
                                                                                                                                            `);

                        $('.video-title').before(`
        <div class="project-card" onclick="window.location.href='https://t.me/+lg937q0Qkd0yZjVl?blank=true'">
            <div class="project-logo" style="    align-items: center;
    width: 30px;
    display: flex;
    gap: 7px;
    font-weight: bold;
    font-size: 18px;margin-bottom: 27px;">
                <img src="images/bluetelegram.svg" alt="In999 Logo" style="width: 100%;">
                <p1>Telegram</p1>
            </div>
            <div class="project-info">
                <p>Join Telegram</p>
            </div>

            <div class="project-slot-info">
                <p>@toolbox_pro</p>
            </div>
        </div>

`);

        }

        // Function to handle the project card click
        function handleProjectClick(slotLeft, invitationLink) {
            if (slotLeft <= 0) {
                showToast('Slots are full for today. Please come back tomorrow.', 'danger');
            } else {
                window.location.href = invitationLink.split('register')[0]; // Redirect to the registration link
            }
        }

        // Fetch the project data when the page loads (replace with actual androidId value)
        $(document).ready(function () {
            var androidId = ''; // Replace with the actual Android ID value
            fetchProjectData(androidId);
        });


        if (typeof Android !== "undefined") {

            Android.changestatusbarbgcolor("#ffffff");
            Android.changestatusbarcolor('dark');

            // setTimeout(() => {
            //     // window.close();
            // }, 1000);

        }

    </script>

    <!-- <button onclick="requestPermission()">requestPermission</button>
    <button onclick="requestFirebasetoken()">requestFirebasetoken</button>
    <button onclick="showNotification()">showNotification</button>
    <button onclick="changestatusbarbgcolor()">updateColorPrimary</button>
    <button onclick="changestatusbarcolor('ligth')">statusbar color ligth</button>
    <button onclick="changestatusbarcolor('dark')">statusbar color dark</button>
    <button onclick="ToastmakeText()">make toast</button>

    <button onclick="downloadImage('images/big-flower.png')">Download Image</button> -->

    <script>
        function downloadImage(filePath) {
            // Create a temporary <a> element
            const link = document.createElement("a");
            link.href = filePath;
            link.download = filePath.split('/').pop(); // Extracts filename from path

            // Trigger the download
            link.click();

            // Clean up
            link.remove();
        }
    </script>

    <script>

        // alert('I am new index.');

        function changestatusbarcolor(theme) {
            // alert(theme);
            Android.changestatusbarcolor(theme);
        }

        function ToastmakeText() {
            Android.ToastmakeText("Hello this is just test!");
        }

        function changestatusbarbgcolor() {
            // Call the Android interface with your color, e.g., "#FF5733"
            Android.changestatusbarbgcolor("#000000");
        }

        function requestPermission() {
            if (typeof Android !== "undefined" && Android.requestNotificationPermission) {
                Android.requestNotificationPermission();
            } else {
                console.log("Android interface not available.");
            }
        }

        function showNotification() {
            Android.showNotification('Hello 🔥🔥', "CLICK ME TO GET KTM", 'https://www.google.com/search?q=ktm+rc+200+full+hd+images&sca_esv=2a1890e936bb66bb&rlz=1C1PNBB_enIN1057IN1057&biw=1396&bih=750&sxsrf=ADLYWIK_CevCHWA8Vf9VuHB9zRPkfnG4YQ%3A1731384920925&ei=WNYyZ-yWOJe70-kPl-iPiAg&ved=0ahUKEwjsorm599WJAxWX3TQHHRf0A4EQ4dUDCA8&uact=5&oq=ktm+rc+200+full+hd+images&gs_lp=Egxnd3Mtd2l6LXNlcnAiGWt0bSByYyAyMDAgZnVsbCBoZCBpbWFnZXMyCBAAGIAEGKIEMggQABiABBiiBDIIEAAYgAQYogQyCBAAGKIEGIkFSNEsUKEYWNYpcAJ4AZABAJgBkQKgAfkHqgEDMi00uAEDyAEA-AEBmAIEoAKRBMICChAAGLADGNYEGEfCAggQIRigARjDBJgDAIgGAZAGCJIHBTIuMC4yoAeOCg&sclient=gws-wiz-serp');
        }

        function requestFirebasetoken() {
            if (typeof Android !== "undefined" && Android.requestNotificationPermission) {
                Android.requestFirebasetoken();
            } else {
                console.log("Android interface not available.");
            }
        }
        // requestPermission();

        let permissionStatus = null;
        let token = null;
        let UserEnabled = false;

        window.addEventListener("message", function (event) {
            // Ensure this is coming from a trusted source, if applicable
            if (event.origin !== "https://toolbox-pro.in") return;

            const data = event.data;
            if (data.type === "permissionStatus") {
                // alert("Notification permission " + data.status);
                permissionStatus = data.status == 'true' ? 'enabled' : 'disabled';
                notificationSystem();
                UserEnabled = false;
            } else if (data.type === "token") {
                // alert("Token: " + data.value);
                token = data.value;
                notificationSystem();
            }
        });

        $('.notification .subscribed').on('click', function () {
            permissionStatus = 'Userdisabled';
            notificationSystem();
        })

        $('.notification .unsubscribed').on('click', function () {
            Android.requestNotificationPermission();
            UserEnabled = true;
        })

        function notificationSystem() {
            if (permissionStatus !== null && token !== null) {

                $('.notification a').hide();
                $('.notification .loading').show();

                $.ajax({
                    url: './', // Replace with the actual PHP file
                    type: 'GET',
                    data: {
                        androidId: '',
                        notificationSystem: true,
                        pushNotification: permissionStatus,
                        notificationToken: token,
                        UserEnabled: UserEnabled
                    },
                    success: function (response) {
                        // Parse the JSON response
                        // alert(response);
                        console.log(response);

                        $('.notification a').hide();
                        if (response.data.pushNotification == 'disabled' || response.data.pushNotification == 'Userdisabled') {
                            $('.notification .unsubscribed').show();
                        } else {
                            $('.notification .subscribed').show();
                        }
                    },
                    error: function () {
                        Android.ToastmakeText('Error fetching data. Please try again.');
                    }
                });
            } else {
                // alert(permissionStatus + '   -- ---  ' + token);
            }
        }


    </script>

    
    <script>

        function gamblingconfirm() {
            const isAcknowledged = document.getElementById('acknowledgeRisk').checked;

            if (isAcknowledged) {
                // Save acknowledgment to localStorage to prevent showing the modal again
                localStorage.setItem('gamblingRiskAcknowledged', 'true');
                // alert('Thank you for acknowledging. Proceeding with the action.');
                showToast('Thank you for acknowledging. Proceeding with the action.', 'success');
                const modal = document.getElementById('gamblingconfirmModal');
                modal.style.display = 'none';
            } else {
                // If not acknowledged, close the app
                // alert('You must acknowledge the risks before proceeding.');
                showToast('You must acknowledge the risks before proceeding.', 'danger');
            }
        }

        // Check if acknowledgment exists in localStorage
        window.onload = function () {

            setTimeout(() => celebrate(), 100);

            // alert('ok');
            // Retrieve the appVersion from the URL or default to '1.0'
            const appVersion = '1.0';

            // If the app version is greater than 1.0, check for acknowledgment
            if (parseFloat(appVersion) > 1.0) {
                if (localStorage.getItem('gamblingRiskAcknowledged') === 'true') {
                    // Hide the modal automatically if previously acknowledged
                    document.getElementById('gamblingconfirmModal').style.display = 'none';
                } else {
                    // Show the modal if acknowledgment hasn't been made
                    document.getElementById('gamblingconfirmModal').style.display = 'flex';
                }
            }

            fetch('./user_danmu_data.json?v=' + Date.now())
                .then(response => response.json())
                .then(data => {
                    let index = 0;

                    function runWithDelay() {
                        if (index < data.length) {
                            ae({
                                danmu: '<img class="icon" src="images/big-flower.png" alt="">' + data[index].mobile + ' won <span>₹ ' + data[index].balance + '</span>!',
                                speed: 5,
                                top: 0
                            }, {});

                            index++;
                            setTimeout(runWithDelay, 2000);
                        } else {
                            index = 0;
                            setTimeout(runWithDelay, 2000);
                        }
                    }

                    runWithDelay();
                })
                .catch(error => {
                    console.error('Error fetching user count:', error);
                })
                .finally(() => { });

        };

    </script>


    <!-- <script src="https://cdn.jsdelivr.net/npm/party-js@latest/bundle/party.min.js"></script>
    <button onclick="celebrate()">Celebrate</button>
    <script>
        function celebrate() {
            party.confetti(document.body, {
                count: 200,
                spread: 60
            });
        }
        celebrate();
    </script> -->

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <img id="qrcodeimg" src="images/Asset-1024x904.webp" alt="QR Code" width="300">
    <br><br>
    Button to trigger the save function
    <button onclick="saveImage()">Download Image</button>

    <script>
        function saveImage() {
            // Get the image element
            const img = document.getElementById('qrcodeimg');

            // Create a new canvas element
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');

            // Set the canvas size to match the image size
            canvas.width = img.width;
            canvas.height = img.height;

            // Draw the image onto the canvas
            ctx.drawImage(img, 0, 0);

            // Convert the canvas content to a Blob
            canvas.toBlob(function (blob) {
                // Use FileSaver.js to save the Blob as a file
                saveAs(blob, "qrCode.jpg");
            }, "image/jpeg");
        }
    </script> -->

    <!-- <a href="">Download  </a> -->

</body>

</html>